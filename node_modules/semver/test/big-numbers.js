// ***************************************************************************
// Copyright (c) 2017, Industrial Logic, Inc., All Rights Reserved.
//
// This code is the exclusive property of Industrial Logic, Inc. It may ONLY be
// used by students during Industrial Logic's workshops or by individuals
// who are being coached by Industrial Logic on a project.
//
// This code may NOT be copied or used for any other purpose without the prior
// written consent of Industrial Logic, Inc.
// ****************************************************************************

var test = require('tap').test
var semver = require('../')

test('long version is too long', function (t) {
  var v = '1.2.' + new Array(256).join('1')
  t.throws(function () {
    new semver.SemVer(v)
  })
  t.equal(semver.valid(v, false), null)
  t.equal(semver.valid(v, true), null)
  t.equal(semver.inc(v, 'patch'), null)
  t.end()
})

test('big number is like too long version', function (t) {
  var v = '1.2.' + new Array(100).join('1')
  t.throws(function () {
    new semver.SemVer(v)
  })
  t.equal(semver.valid(v, false), null)
  t.equal(semver.valid(v, true), null)
  t.equal(semver.inc(v, 'patch'), null)
  t.end()
})

test('parsing null does not throw', function (t) {
  t.equal(semver.parse(null), null)
  t.equal(semver.parse({}), null)
  t.equal(semver.parse(new semver.SemVer('1.2.3')).version, '1.2.3')
  t.end()
})
