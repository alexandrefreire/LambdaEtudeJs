// ***************************************************************************
// Copyright (c) 2017, Industrial Logic, Inc., All Rights Reserved.
//
// This code is the exclusive property of Industrial Logic, Inc. It may ONLY be
// used by students during Industrial Logic's workshops or by individuals
// who are being coached by Industrial Logic on a project.
//
// This code may NOT be copied or used for any other purpose without the prior
// written consent of Industrial Logic, Inc.
// ****************************************************************************

var expect = require('chai').expect;

describe('has-cors', function() {
  beforeEach(function() {
    // make sure result is not cached
    delete require.cache[require.resolve('./')];
  });
  
  it('should not have cors', function() {
    var hasCors = require('./');

    expect(hasCors).to.be.false;
  });
  
  it('should have cors', function() {
    global.XMLHttpRequest = function() {
      this.withCredentials = true;
    };

    var hasCors = require('./');

    expect(hasCors).to.be.true;
  });
});
