// ***************************************************************************
// Copyright (c) 2017, Industrial Logic, Inc., All Rights Reserved.
//
// This code is the exclusive property of Industrial Logic, Inc. It may ONLY be
// used by students during Industrial Logic's workshops or by individuals
// who are being coached by Industrial Logic on a project.
//
// This code may NOT be copied or used for any other purpose without the prior
// written consent of Industrial Logic, Inc.
// ****************************************************************************

#!/usr/bin/env node

var request = require('request')
  , path = require('path')
  , fs = require('fs');

var files = {
    'pgts.yaml': 'https://raw.github.com/tobie/ua-parser/master/test_resources/pgts_browser_list.yaml'
  , 'testcases.yaml': 'https://raw.github.com/tobie/ua-parser/master/test_resources/test_user_agent_parser.yaml'
  , 'firefoxes.yaml': 'https://raw.github.com/tobie/ua-parser/master/test_resources/firefox_user_agent_strings.yaml'
};

/**
 * Update the fixtures
 */

Object.keys(files).forEach(function (key) {
  request(files[key], function response (err, res, data) {
    if (err || res.statusCode !== 200) return console.error('failed to update');

    console.log('downloaded', files[key]);
    fs.writeFileSync(path.join(__dirname, '..', 'tests', 'fixtures', key), data);
  });
});
