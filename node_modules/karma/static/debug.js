// ***************************************************************************
// Copyright (c) 2017, Industrial Logic, Inc., All Rights Reserved.
//
// This code is the exclusive property of Industrial Logic, Inc. It may ONLY be
// used by students during Industrial Logic's workshops or by individuals
// who are being coached by Industrial Logic on a project.
//
// This code may NOT be copied or used for any other purpose without the prior
// written consent of Industrial Logic, Inc.
// ****************************************************************************

// Override the Karma setup for local debugging
window.__karma__.info = function (info) {
  if (info.dump && window.console) window.console.log(info.dump)
}
window.__karma__.complete = function () {
  if (window.console) window.console.log('Skipped ' + this.skipped + ' tests')
}
window.__karma__.skipped = 0
window.__karma__.result = window.console ? function (result) {
  if (result.skipped) {
    this.skipped++
    return
  }
  var msg = result.success ? 'SUCCESS ' : 'FAILED '
  window.console.log(msg + result.suite.join(' ') + ' ' + result.description)

  for (var i = 0; i < result.log.length; i++) {
    // Throwing error without losing stack trace
    (function (err) {
      setTimeout(function () {
        throw err
      })
    })(result.log[i])
  }
} : function () {}
window.__karma__.loaded = function () {
  this.start()
}
